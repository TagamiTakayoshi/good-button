<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å‹•çš„ã„ã„ã­ãƒœã‚¿ãƒ³</title>
  <style>
    .like-btn {
      font-size: 20px;
  ã€€  background-color: transparent;
ã€€    color: #ccc;
ã€€    border: 2px solid #ccc;        /* â† æ ã‚’è¿½åŠ  */
ã€€    border-radius: 8px;            /* â† è§’ã‚’å°‘ã—ä¸¸ã‚ã‚‹ï¼ˆä¸è¦ãªã‚‰å‰Šé™¤OKï¼‰ */
      cursor: pointer;
      margin: 5px;
    }
  </style>
</head>
<body>
  <div id="like-container">èª­ã¿è¾¼ã¿ä¸­...</div>

  <script>
    const baseUrl = 'https://script.google.com/macros/s/AKfycbwL_3gxmoT4P056qSwi2TBhFAd00bxPgqis53T8p1w3bZXi-RhMeXadgz3y_rFevwaG0g/exec';
    const container = document.getElementById('like-container');
    container.innerHTML = ''; // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¶ˆã™

    fetch(`${baseUrl}?all=true`)
      .then(res => res.json())
      .then(data => {
        for (const id in data) {
          const button = document.createElement('button');
          button.className = 'like-btn';
          button.dataset.id = id;
          button.innerText = `ğŸ‘ğŸ¼ Good!`;

          const count = document.createElement('p');
          count.id = `count-${id}`;
          count.innerText = `good: ${data[id]}`;

          container.appendChild(button);
          container.appendChild(count);

          button.addEventListener('click', () => {
            fetch(`${baseUrl}?id=${id}`, { method: 'POST' })
              .then(res => res.json())
              .then(updated => {
                count.textContent = `good: ${updated.count}`;
              });
          });
        }
      })
      .catch(err => {
        container.innerHTML = 'èª­ã¿è¾¼ã¿å¤±æ•—ã—ã¾ã—ãŸğŸ˜¢';
        console.error(err);
      });
  </script>
</body>
</html>
